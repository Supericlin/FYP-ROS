@startuml Voice Command Navigation System Use Case Diagram

!theme plain
skinparam actorStyle awesome
skinparam usecase {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    ArrowColor DarkBlue
}

title Voice Command Navigation System - Use Case Diagram

' Actors
actor "Mobile User" as MU
actor "AI Agent\n(ESP32-S3)" as AI
actor "MQTT Broker" as MQTT
actor "ROS2 Navigation\nSystem" as ROS

' System boundary
rectangle "Voice Command Navigation System" {
    
    ' Mobile App Use Cases
    usecase "Speak Destination" as UC1
    usecase "Process Voice Input" as UC2
    usecase "Send Navigation Command" as UC3
    usecase "Display Navigation Progress" as UC4
    usecase "Show Manual Selection" as UC5
    usecase "Handle Connection Issues" as UC6
    
    ' AI Agent Use Cases
    usecase "Receive Voice Command" as UC7
    usecase "Translate Chinese Commands" as UC8
    usecase "Publish MQTT Message" as UC9
    usecase "Monitor Navigation Status" as UC10
    usecase "Provide Audio Feedback" as UC11
    usecase "Trigger Wake Word" as UC12
    
    ' Navigation Control Use Cases
    usecase "Pause Navigation" as UC13
    usecase "Stop Navigation" as UC14
    usecase "Resume Navigation" as UC15
    
    ' Status Monitoring Use Cases
    usecase "Receive Goal Reached" as UC16
    usecase "Update Navigation Status" as UC17
    usecase "Handle Navigation Errors" as UC18
    
    ' System Use Cases
    usecase "Route MQTT Messages" as UC19
    usecase "Process Navigation Goals" as UC20
    usecase "Execute Path Planning" as UC21
    usecase "Publish Status Updates" as UC22
}

' Mobile User relationships
MU --> UC1 : <<include>>
MU --> UC5 : <<extend>>
MU --> UC6 : <<extend>>

' AI Agent relationships
AI --> UC7 : <<include>>
AI --> UC8 : <<include>>
AI --> UC10 : <<include>>
AI --> UC11 : <<include>>
AI --> UC12 : <<include>>

' MQTT Broker relationships
UC3 --> MQTT : <<include>>
UC9 --> MQTT : <<include>>
MQTT --> UC19 : <<include>>
MQTT --> UC22 : <<include>>

' ROS2 System relationships
UC19 --> ROS : <<include>>
ROS --> UC20 : <<include>>
ROS --> UC21 : <<include>>
ROS --> UC17 : <<include>>

' Internal relationships
UC1 --> UC2 : <<include>>
UC2 --> UC3 : <<include>>
UC3 --> UC4 : <<include>>
UC7 --> UC8 : <<include>>
UC8 --> UC9 : <<include>>
UC9 --> UC10 : <<include>>
UC10 --> UC11 : <<include>>
UC16 --> UC11 : <<include>>
UC16 --> UC12 : <<include>>

' Navigation control relationships
UC13 --> UC20 : <<include>>
UC14 --> UC20 : <<include>>
UC15 --> UC20 : <<include>>

' Status relationships
UC17 --> UC4 : <<include>>
UC17 --> UC10 : <<include>>
UC18 --> UC6 : <<extend>>

' Notes
note right of UC1
  Voice commands:
  • "Go to McDonald's"
  • "Navigate to toilet"
  • "Go to entrance"
  • "Go to Watson's"
  • "Go to information counter"
  • "Go to Starbucks"
end note

note right of UC7
  Chinese voice commands:
  • "去書房" (study room)
  • "去睡房" (bedroom)
  • "去客廳" (living room)
  • "去飯廳" (dining room)
  • "去洗手間" (bathroom)
  • "導航暫停" (pause)
  • "導航停止" (stop)
end note

note bottom of MQTT
  MQTT Topics:
  • robot/control (commands)
  • robot/status (updates)
  • robot/command (wakeup)
end note

note bottom of ROS
  ROS2 Nodes:
  • mqtt_navigation_node
  • android_navigation_node
  • Nav2 Stack
end note

@enduml 